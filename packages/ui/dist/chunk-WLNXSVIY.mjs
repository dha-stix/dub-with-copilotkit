"use client"
import{a as p}from"./chunk-NWME2ANF.mjs";import{a as y}from"./chunk-2TGXECZQ.mjs";import{a as s}from"./chunk-3QY3W3M7.mjs";import{a as g,e as f,k as b}from"./chunk-DGDXBKHW.mjs";import{Link2 as v}from"lucide-react";import{useRouter as R,useSearchParams as k}from"next/navigation";import{useEffect as E,useMemo as P,useRef as W}from"react";import M from"swr";import{useDebounce as U}from"use-debounce";import{Fragment as h,jsx as e,jsxs as r}from"react/jsx-runtime";function H({defaultUrl:t}){let x=R(),l=k(),i=t||(l==null?void 0:l.get("url"))||"https://github.com/dubinc/dub",[a]=U(g(i),500),d=P(()=>f(a||""),[a]),{data:N,isValidating:w}=M(a&&`/api/metatags?url=${encodeURIComponent(a)}`,b,{revalidateOnFocus:!1}),{title:n,description:u,image:c}=N||{},o=W(null);E(()=>{!t&&o.current&&o.current.select()},[t]);let{isMobile:L}=p();return r(h,{children:[!t&&r("div",{className:"relative flex items-center",children:[e(v,{className:"absolute inset-y-0 left-0 my-2 ml-3 w-5 text-gray-400"}),e("input",{ref:o,name:"url",id:"url",type:"url",autoFocus:!L,className:"block w-full rounded-md border-gray-200 pl-10 text-sm text-gray-900 placeholder-gray-400 shadow-lg focus:border-gray-500 focus:outline-none focus:ring-gray-500",placeholder:"Enter your URL",defaultValue:i,onChange:m=>x.replace(`/tools/metatags${m.target.value.length>0?`?url=${m.target.value}`:""}`),"aria-invalid":"true"})]}),r("div",{className:"relative overflow-hidden rounded-md border border-gray-300 bg-gray-50",children:[w&&e("div",{className:"absolute flex h-[250px] w-full flex-col items-center justify-center space-y-4 border-b border-gray-300 bg-gray-50",children:e(s,{})}),c?e("img",{src:c,alt:"Preview",className:"h-[250px] w-full border-b border-gray-300 object-cover"}):r("div",{className:"flex h-[250px] w-full flex-col items-center justify-center space-y-4 border-b border-gray-300",children:[e(y,{className:"h-8 w-8 text-gray-400"}),e("p",{className:"text-sm text-gray-400",children:"Enter a link to generate a preview."})]}),r("div",{className:"grid gap-1 bg-white p-3 text-left",children:[d?e("p",{className:"text-sm text-[#536471]",children:d}):e("div",{className:"mb-1 h-4 w-24 rounded-md bg-gray-100"}),n?e("h3",{className:"truncate text-sm font-medium text-[#0f1419]",children:n}):e("div",{className:"mb-1 h-4 w-full rounded-md bg-gray-100"}),u?e("p",{className:"line-clamp-2 text-sm text-[#536471]",children:u}):r("div",{className:"grid gap-2",children:[e("div",{className:"h-4 w-full rounded-md bg-gray-100"}),e("div",{className:"h-4 w-48 rounded-md bg-gray-100"})]})]})]})]})}function O({defaultUrl:t}){return r(h,{children:[r("div",{className:"relative flex items-center",children:[e(v,{className:"absolute inset-y-0 left-0 my-2 ml-3 w-5 text-gray-400"}),e("input",{name:"url",id:"url",type:"url",disabled:!0,className:"block w-full rounded-md border-gray-200 pl-10 text-sm text-gray-900 placeholder-gray-400 shadow-lg focus:border-gray-500 focus:outline-none focus:ring-gray-500",placeholder:"Enter your URL",defaultValue:t||"https://github.com/dubinc/dub"})]}),e("div",{className:"relative overflow-hidden rounded-md border border-gray-300 bg-gray-50",children:e("div",{className:"absolute flex h-[250px] w-full flex-col items-center justify-center space-y-4 border-b border-gray-300 bg-gray-50",children:e(s,{})})})]})}export{H as a,O as b};
