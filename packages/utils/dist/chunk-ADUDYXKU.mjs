var o=t=>{try{return new URL(t),!0}catch{return!1}},i=t=>{if(o(t))return t;try{if(t.includes(".")&&!t.includes(" "))return new URL(`https://${t}`).toString()}catch{}return t},m=t=>{let r={};return new URL(t).searchParams.forEach(function(e,s){r[s]=e}),r},u=t=>{let r={};return new URL(t).searchParams.forEach(function(e,s){if(s in r){let a=r[s];Array.isArray(a)?a.push(e):r[s]=[a,e]}else r[s]=e}),r},p=t=>{if(!t)return{};try{let r=new URL(t).searchParams,e={};for(let[s,a]of r.entries())a&&a!==""&&(e[s]=a);return e}catch{return{}}},g=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],l=(t,r)=>{if(!t)return"";try{let e=new URL(t);for(let[s,a]of Object.entries(r))a===""?e.searchParams.delete(s):e.searchParams.set(s,a);return e.toString()}catch{return""}},c=[{display:"Referral (ref)",key:"ref",examples:"twitter, facebook"},{display:"UTM Source",key:"utm_source",examples:"twitter, facebook"},{display:"UTM Medium",key:"utm_medium",examples:"social, email"},{display:"UTM Campaign",key:"utm_campaign",examples:"summer_sale"},{display:"UTM Term",key:"utm_term",examples:"blue_shoes"},{display:"UTM Content",key:"utm_content",examples:"logolink"}],U=t=>{try{let r=new URL(t);return c.forEach(e=>r.searchParams.delete(e.key)),r.toString()}catch{return t}},f=t=>t.replace(/(^\w+:|^)\/\//,"").replace("www.",""),d=(t,r,e)=>{if(r==="dub.co")return t;let s=new URL(t.startsWith("/")?`https://dub.co${t}`:t);return e&&Object.entries(e).forEach(([a,n])=>{s.searchParams.set(a,n)}),s.toString()};export{o as a,i as b,m as c,u as d,p as e,g as f,l as g,c as h,U as i,f as j,d as k};
